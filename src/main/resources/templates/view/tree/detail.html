<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link th:href="@{/css/fragments.css}" rel="stylesheet"/>
    <link th:href="@{/css/layout.css}" rel="stylesheet"/>
    <script th:src="@{/js/filter-tab.js}" defer></script>
    <title>Document</title>
</head>
<body>
<header>
    <h1 class="none">사용자 트리 세부정보</h1>
    <section  class="reg-book-search-container">
        <h2 class="none">트리 검색</h2>
        <!-- 컴포넌트 start -->
        <div
                th:replace="~{fragments/input::input-back-search-text(placeholder='검색할 트리를 입력해주세요', action='', name='treeSearchText', href='javascript:history.back()')}"
        ></div>
    </section>
</header>
<main>
    <section class="user-tree-info__container">
        <h2 class="none">트리 정보</h2>
        <div th:replace="~{fragments/card :: card-tree-info-cover(src=${treeInfoView.coverImageName},treetitle=${treeInfoView.title},booktitle=${treeInfoView.bookTitle})}">
        </div>
    </section>
    <section class="branch-tree-detail-container"
             th:with="rPage=${treeInfoView.readingPage ?: 0}, totalPage=${treeInfoView.bookTotalPage ?: 1}">
        <h2 class="none">트리 상세 설명</h2>
        <div th:replace="~{fragments/card :: card-hidden-info(
        hiddentext='자세히',
        authors=${treeInfoView.bookAuthor},
        translators=${treeInfoView.bookTranslator},
        publisher=${treeInfoView.bookPublisher},
        page=${totalPage},
        seed=${treeInfoView.seedId},
        treedescription=${treeInfoView.description},
        readpage=${rPage},
        progress=${#numbers.formatDecimal((rPage * 100.0 / totalPage), 1, 1)},
        fullpage=${treeInfoView.bookTotalPage},
        leaf=${treeInfoView.treeLeafCnt},
        like=${treeInfoView.treeLikeCnt},
        view=${treeInfoView.treeViewCnt}
    )}"></div>
    </section>

    <section class="branch-list__container">
        <h2 th:replace="~{fragments/text :: text-main-title__listCount(title='브랜치 목록', number=${#lists.size(leafList)})}"></h2>
        <!-- 컴포넌트 -->
        <section class="branch-filter-container">
            <h3 class="none">브랜치 필터</h3>
            <!-- 컴포넌트 -->
            <div th:replace="~{fragments/filter :: filter-tree-leaf__card()}"></div>
        </section>

        <section class="branch-filter-result-list__container">
            <h3 class="none">브랜치 리스트</h3>
            <!-- 컴포넌트 -->
            <div th:replace="~{fragments/card :: card-branch__list(${leafList})}"></div>
        </section>
    </section>
    <section class="filter-tab-container" id="filter-bg-blur">
        <h2 class="none">정렬 선택</h2>
        <div
                id="filter-tab"
                class="filter-tab__box up"
        >
            <div class="filter-tab__header">
                <button
                        id="filter-tab-close-btn"
                        class="filter-tab__btn--back"
                        type="button"
                >
                    <img th:src="@{/svg/tab-back.svg}" alt="뒤로가기 버튼" />
                </button>
                <h1 class="filter-tab__header--title" >정렬 선택</h1>
            </div>

            <ul class="filter-tab__list">
                <li  class="filter-tab__item">
                    <label><input name="sort-filter" /></label>

                </li>
            </ul>
        </div>
    </section>
</main>

<section class="nav-back-container">
    <h2 class="none">네비바 뒤 공백</h2>
</section>
<aside>
    <section class="nav-container">
        <h2 class="none">네비게이션</h2>
        <!-- 트리 생성 언더바  -->
        <div th:replace="~{fragments/nav :: navigation-bar(active='home')}"></div>
    </section>
</aside>

</body>
</html>
